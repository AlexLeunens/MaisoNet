<!DOCTYPE HTML>
<html>
<head>
  <style>
    body {background:url("papier.jpg") no-repeat center;

        background-repeat: no-repeat;
        background-size: cover; 
        background-attachment: fixed;
    }
    .erreur {color: #FF0000;
      position:relative;
      top:30px;
      font-size:30px;
    }
    .aligner{position:relative;
      top:30px;
      font-size:30px;
    }
    .ligne{position:relative;
      top:30px;
      width:300px;
      height:50px;
      font-size:30px;
    }
    #logo1 {
    	position:fixed;
    	bottom: 70px;
    	right:20px;
    	background: url() 0 0;
    }
    div.static {
    position: fixed;
    top:100px;
    left:750px;
    font-size:60px;
    color :#f84110;
  }
</style>
</head>

<body>
	<img id="logo1" src="Images/logo_provisoire_mini.png" ></img>  
 <?php

    $nom = "";
    $adresse = "";
    $datenaissance = "";
    $pays = "";
    $codepostal = "";
    $email = "";
    $genre = "";
    $commentaire = ""
    $website = "";

    $nomErreur = "";
    $adresseErreur = "";
    $datenaissanceErreur = "";
    $paysErreur = "";
    $codepostalErreur = "";
    $emailErreur = "" ;
    $genreErreur = "";
    $websiteErreur = "";

  
  if ($_SERVER["REQUEST_METHOD"] == "POST") {                                     //Vérifie que le serveur demande des données (POST)

    if (empty($_POST["nom"])) {                                                  //Cas où la case nom n'est pas remplie
      $nomErreur = "Le nom est obligatoire";
    } else {
      $nom = test_input($_POST["nom"]);                                          

      if (!preg_match("/ ^ [a-zA-Z ] * $ /",$nom)) {                                  // Vérifie que le nom ne comporte que des lettres et des espaces
        $nomErreur = "Seulement des lettres et des espaces sont acceptés";
      }
    }
    
    if (empty($_POST["email"])) {
      $emailErreur = "Le mail est obligatoire";
    } else {

      $email = test_input($_POST["email"]);                                      

      if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {                           // Vérifie que le format mail est valide
        $emailErreur = "Le format mail est invalide";
       }
    }

    if (empty($_POST[ "commentaire" ])) {
      $commentaire = "";
    } else {
      $commentaire = test_input($_POST[ "commentaire" ]);
    }
  
    if (empty($_POST[ "genre" ])) {
      $genreErreur = "Le genre est obligatoire";
    } else {
      $genre = test_input($_POST[ "genre" ]);
    }
  }
  function test_input($data) {
    $data = trim(data);
    $data = stripslashes($data);
    $data = htmlspecialchars($data);
    return $data;
  }
  ?>
  <form method="post" action="Inscription.html">

    <h1><div class="static"><i><u>Dossier d'inscription MaisoNET</u></i></div></h1>
    <p><span class="erreur">* Zone obligatoire</span></p> 

    <div class="aligner">Nom: </div><input class="ligne" type="text" name="nom" >
    <span class="erreur"> * <?php echo $nameError;?></span>
    <br><br>

    <div class="aligner">Adresse: </div><input class="ligne" type="text" name="adresse" >
    <span class="erreur">*</span>
    <br><br>

    <div class="aligner">Date de Naissance: </div><input class="ligne" type="text" name="DateNaissance" >
    <span class="erreur">*</span>
    <br><br>

    <div class="aligner">Pays: </div><input class="ligne" type="text" name="Pays" >
    <span class="erreur">*</span>
    <br><br>

    <div class="aligner">Code Postal: </div><input class="ligne" type="text" name="CodePostal" >
    <span class="erreur">*</span>
    <br><br>

    <div class="aligner">E-mail: </div> <input class="ligne" type="text" name="E-mail">
    <span class="erreur">*<?php echo $emailErreur;?></span>
    <br><br>

    <div class="aligner">Site Web: </div> <input class="ligne" type="text" name="site web">
    <span class="erreur"><?php echo $websiteErreur;?></span>
    <br><br>

    <div class="aligner">Commentaire: </div> <textarea class="ligne" name="commentaire" rows="5" cols="40"></textarea>
    <br><br>

    <div class="aligner"><u>Genre: </u></div>
    <br><br>
    
    <font size="+2">Femme</font> <input type="radio" name="genre" value="Femme" > 
    <?php if (isset($genre) && $genre == "femme" ) echo "checked" ;?> 
   
    <font size="+2"> Homme </font> <input type="radio" name="genre" value="Homme"> 
    <?php if (isset($genre) && $genre == "homme" ) echo "checked" ;?>

    <font size="+2"> Autre </font> <input type="radio" name="genre" value="Autre"> 
    <?php if (isset($genre) && $genre == "autre" ) echo "checked" ;?>
    <br><br>

    <input class="ligne" type="submit" name="Envoyer" value="Envoyer">

  </form>




//Vérification

  <div class="aligner"><u>Donnees envoyees : </u></div>

  <?php echo $nom ; ?>
  <br>
  <?php echo $email ; ?>
  <br>
  <?php echo $website ; ?>
  <br>
  <?php echo $commentaire ; ?>
  <br>
  <?php echo $genre ; ?>
  <br>

  </body>

</html>
